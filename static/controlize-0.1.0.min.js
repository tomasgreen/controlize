(function(){"use strict";var e={createElement:function(e,t,n,i){var o;if(-1!==e.indexOf(".")){var r=e.split(".");e=r[0],o=document.createElement(r[0]),r.shift(),o.setAttribute("class",r.join(" "))}else o=document.createElement(e);for(var a in t)o.setAttribute(a,t[a]);return n&&n.appendChild(o),i&&(o.innerHTML=i),o},addEvent:function(e,t,n,i){void 0===i&&(i=!1);var o=t.split(" ");for(var r in o)e.addEventListener(o[r],n,i)},createElementFromString:function(e){var t=document.createElement("div");return t.innerHTML=e,t.firstChild},addClass:function(e,t){e.classList?e.classList.add(t):e.className+=" "+t},removeClass:function(e,t){e.classList?e.classList.remove(t):e.className=e.className.replace(new RegExp("(^|\\b)"+t.split(" ").join("|")+"(\\b|$)","gi")," ")},hasParent:function(e,t){if(void 0===e||void 0===t)return!1;var n=function(e,t){return e===t||e.parentNode===t?!0:e.parentNode?n(e.parentNode,t):!1};return n(e,t)},elementInViewport:function(e){for(var t=e.offsetTop,n=e.offsetLeft,i=e.offsetWidth,o=e.offsetHeight;e.offsetParent;)e=e.offsetParent,t+=e.offsetTop,n+=e.offsetLeft;return t>=window.pageYOffset&&n>=window.pageXOffset&&t+o<=window.pageYOffset+window.innerHeight&&n+i<=window.pageXOffset+window.innerWidth},timeToString:function(e){var t=parseInt(e),n=~~(t/3600),i=~~(t%3600/60),o=t%60,r="";return n>0&&(r+=""+n+":"+(10>i?"0":"")),r+=""+i+":"+(10>o?"0":""),r+=""+o}},t={showControls:!0,showMuteButton:!0,showFullscreenButton:!0,showTime:!0,showPlayButton:!0,showSeekBar:!0,playWithSpace:!0,playWithMouse:!0,hideMouseOnHover:!0,playOnSeek:!0},n="ontouchstart"in document.documentElement,i='<svg version="1.1" xmlns="http://www.w3.org/2000/svg" width="13px" height="13px" viewBox="0 0 13 13" enable-background="new 0 0 13 13"><polyline points="7.8,12.2 0.8,12.2 0.8,5.2 "/><polyline points="5.2,0.8 12.2,0.8 12.2,7.8 "/></svg>',o='<svg version="1.1" xmlns="http://www.w3.org/2000/svg" width="16.2px" height="13px" viewBox="0 0 16.2 13" enable-background="new 0 0 16.2 13"><path d="M2.9,8.5l3.6,2.8V1.6L2.9,4.5H0v4.1h2.9V8.5z"/></svg>',r='<svg version="1.1" xmlns="http://www.w3.org/2000/svg" width="16.2px" height="13px" viewBox="0 0 16.2 13" enable-background="new 0 0 16.2 13"><path  d="M14.1,13c1.3-1.8,2.1-4.1,2.1-6.5S15.4,1.8,14.1,0l-0.7,0.5c1.2,1.7,2,3.8,2,6s-0.8,4.3-2,6L14.1,13z M11.4,1.6l-0.7,0.5c0.9,1.2,1.5,2.7,1.5,4.4s-0.6,3.1-1.5,4.4l0.7,0.5c1-1.4,1.6-3,1.6-4.9S12.4,3,11.4,1.6z M9,3.2L8.3,3.8 c0.6,0.8,0.9,1.7,0.9,2.7s-0.3,2-0.9,2.7L9,9.8c0.7-0.9,1.1-2,1.1-3.2S9.7,4.2,9,3.2z M2.9,8.5l3.6,2.8V1.6L2.9,4.5H0v4.1H2.9z"/></svg>',a='<svg version="1.1" xmlns="http://www.w3.org/2000/svg" width="10.4px" height="13px" viewBox="0 0 10.4 13" enable-background="new 0 0 10.4 13"><path d="M0,13L0,13l10.4-6.5L0,0V13z"/></svg>',s='<svg version="1.1" xmlns="http://www.w3.org/2000/svg" width="10.4px" height="13px" viewBox="0 0 10.4 13" enable-background="new 0 0 10.4 13"><path d="M0,0v13h3.2V0H0z M7.2,0v13h3.2V0H7.2z"/></svg>',l='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 32 32" width="32" height="32" fill="white"><circle transform="translate(8 0)" cx="0" cy="16" r="0"> <animate attributeName="r" values="0; 4; 0; 0" dur="1.2s" repeatCount="indefinite" begin="0" keytimes="0;0.2;0.7;1"keySplines="0.2 0.2 0.4 0.8;0.2 0.6 0.4 0.8;0.2 0.6 0.4 0.8" calcMode="spline" /></circle><circle transform="translate(16 0)" cx="0" cy="16" r="0"><animate attributeName="r" values="0; 4; 0; 0" dur="1.2s" repeatCount="indefinite" begin="0.3" keytimes="0;0.2;0.7;1"keySplines="0.2 0.2 0.4 0.8;0.2 0.6 0.4 0.8;0.2 0.6 0.4 0.8" calcMode="spline" /></circle><circle transform="translate(24 0)" cx="0" cy="16" r="0"> <animate attributeName="r" values="0; 4; 0; 0" dur="1.2s" repeatCount="indefinite" begin="0.6" keytimes="0;0.2;0.7;1"keySplines="0.2 0.2 0.4 0.8;0.2 0.6 0.4 0.8;0.2 0.6 0.4 0.8" calcMode="spline" /></circle></svg>',u=function(i,o){if(i&&i.canPlayType){var r=this;this.isAudio="audio"==i.tagName.toLowerCase(),this.opt={},void 0===o&&(o={});for(var a in t)this.opt[a]=void 0!==o[a]?o[a]:t[a];this.element=i;var s=e.createElementFromString(l);i.removeAttribute("controls"),i.setAttribute("preload","auto");var u=e.createElement("div.controlize-container");i.parentNode.insertBefore(u,i),u.appendChild(i),i.load();var d=".media-controls";if((n||this.isAudio)&&(void 0===o.showFullscreenButton&&(this.opt.showFullscreenButton=!1),void 0===o.hideMouseOnHover&&(this.opt.hideMouseOnHover=!1),void 0===o.showMuteButton&&(this.opt.showMuteButton=!1),void 0===o.playWithMouse&&(this.opt.playWithMouse=!1),void 0===o.playWithSpace&&(this.opt.playWithSpace=!1),d+=".media-controls-alway-visible"),this.isAudio?(e.addClass(s,"controlize-spinner-small"),void 0===o.showControls&&(this.opt.showControls=!0)):e.addClass(s,"controlize-spinner-large"),this.opt.showControls){var c=e.createElement("div"+d,null,this.opt.showControls?u:null),p=e.createElement("div.media-controls-wrapper",null,c),v=e.createElement("div.left",null,p),h=e.createElement("div.center",null,p),m=e.createElement("div.right",null,p),w=0,f=0,g=!1,y=function(){var e=u.querySelectorAll(".button"),t=u.querySelector("input"),n=u.querySelector(".seek");n&&void 0!==n.setAttribute&&n.removeAttribute("disabled","true"),t&&void 0!==t.removeAttribute&&t.removeAttribute("disabled");for(var i in e)e[i].removeAttribute&&e[i].removeAttribute("disabled");g=!0},b=function(){var e=u.querySelectorAll(".button"),t=u.querySelector("input"),n=u.querySelector(".seek");n&&void 0!==n.setAttribute&&n.setAttribute("disabled","true"),t&&void 0!==t.setAttribute&&t.setAttribute("disabled","true");for(var i in e)e[i].setAttribute&&e[i].setAttribute("disabled","true");g=!1},E=function(){s.parentNode!==u&&u.appendChild(s)},M=function(){s.parentNode===u&&u.removeChild(s)};this.opt.playWithMouse&&(e.addEvent(i,"click",function(){g&&r.playPause()}),n||e.addEvent(i,"mouseover",function(){i.style.cursor=g?"pointer":"default"})),e.addEvent(i,"canplay",function(){y(),M()}),e.addEvent(i,"error",function(){e.addClass(u,"controlize-error"),b(),e.addClass(c,"media-controls-alway-visible")}),e.addEvent(i,"loadstart",function(){b(),E()}),e.addEvent(i,"waiting",function(){E()}),this.opt.showPlayButton&&(w+=this.drawPlayButton(v,i)),this.opt.showTime&&(w+=this.drawTime(v,i)),this.opt.showSeekBar&&this.drawSeekBar(h,i),this.opt.showMuteButton&&(f+=this.drawMuteButton(m,i)),this.opt.showFullscreenButton&&(f+=this.drawFullscreenButton(m,i)),h.style.paddingLeft=w+"px",h.style.paddingRight=f+"px",this.opt.playWithSpace&&e.addEvent(document,"keydown",function(t){return 32===t.keyCode&&e.elementInViewport(u)?(r.playPause(),t.preventDefault(),!1):void 0}),this.opt.hideMouseOnHover&&e.addEvent(u,"mousemove",function(t){e.removeClass(u,"controlize-container-hide-gui"),void 0!==r.mouseMove&&clearTimeout(r.mouseMove),e.hasParent(t.srcElement,c)||(r.mouseMove=setTimeout(function(){e.addClass(u,"controlize-container-hide-gui")},500))})}}};u.prototype.playPause=function(){this.element.paused===!0?this.element.play():this.element.pause()},u.prototype.drawSeekBar=function(t,i){var o=this,r=e.createElement("div.seek",null,t),a=e.createElement("div.seek-value",null,r),s=e.createElement("input",{type:"range",value:0},r);e.addEvent(s,"change",function(){i.currentTime=i.duration*(s.value/100)}),e.addEvent(i,"timeupdate",function(){var e=parseInt(100/i.duration*i.currentTime);s.value=e,a.style.width=e+"%"}),e.addEvent(s,n?"touchstart":"mousedown",function(){i.pause()}),e.addEvent(s,n?"touchend":"mouseup",function(){o.opt.playOnSeek&&i.play()})},u.prototype.drawTime=function(t,n){var i=e.createElement("div.time",null,t),o=e.createElement("span.time-elapsed",null,i,"0:00");e.createElement("span.time-separator",null,i);var r=e.createElement("span.time-left",null,i,"0:00");return e.addEvent(n,"timeupdate",function(){var t=Math.floor(n.currentTime);isNaN(t)||(o.textContent=e.timeToString(t));var i=n.duration-Math.floor(n.currentTime);isNaN(i)||(r.textContent="-"+e.timeToString(i))}),i.clientWidth},u.prototype.drawFullscreenButton=function(t,o){var r=e.createElement("button.button",{type:"button"},t,i);return n||e.addClass(r,"hover"),e.addEvent(r,"click",function(){o.requestFullscreen?o.requestFullscreen():o.mozRequestFullScreen?o.mozRequestFullScreen():o.webkitRequestFullscreen&&o.webkitRequestFullscreen()}),r.clientWidth},u.prototype.drawPlayButton=function(t,i){var o=this,r=e.createElement("button.button",{type:"button"},t,a);return n||e.addClass(r,"hover"),e.addEvent(r,n?"touchstart":"click",function(){o.playPause()}),e.addEvent(i,"playing",function(){r.innerHTML=i.paused===!0?a:s}),e.addEvent(i,"pause",function(){r.innerHTML=a}),r.clientWidth},u.prototype.drawMuteButton=function(t,i){var a=e.createElement("button.button",{type:"button"},t,i.muted?o:r);return n||e.addClass(a,"hover"),e.addEvent(a,"click",function(){i.muted=!i.muted,a.innerHTML=i.muted?o:r}),a.clientWidth},this.controlize=u}).call(this);