(function(){"use strict";function t(t,e,i,n){var o;if(t.indexOf(".")!==-1){var r=t.split(".");t=r[0],o=document.createElement(r[0]),r.shift(),o.setAttribute("class",r.join(" "))}else o=document.createElement(t);for(var s in e)o.setAttribute(s,e[s]);return i&&i.appendChild(o),n&&(o.innerHTML=n),o}function e(t){var e=document.createElement("div");return e.innerHTML=t,e.firstChild}function i(t){if(t)for(;t.firstChild;)t.removeChild(t.firstChild)}function n(t,e,i,n){void 0===n&&(n=!1);var o=e.split(" ");for(var r in o)t.addEventListener(o[r],i,n)}function o(t,e){t.classList?t.classList.add(e):t.className+=" "+e}function r(t,e){t.classList?t.classList.remove(e):t.className=t.className.replace(new RegExp("(^|\\b)"+e.split(" ").join("|")+"(\\b|$)","gi")," ")}function s(t,e){if(void 0===t||void 0===e)return!1;var i=function(t,e){return t===e||t.parentNode===e||!!t.parentNode&&i(t.parentNode,e)};return i(t,e)}function u(t){for(var e=t.offsetTop,i=t.offsetLeft,n=t.offsetWidth,o=t.offsetHeight;t.offsetParent;)t=t.offsetParent,e+=t.offsetTop,i+=t.offsetLeft;return e>=window.pageYOffset&&i>=window.pageXOffset&&e+o<=window.pageYOffset+window.innerHeight&&i+n<=window.pageXOffset+window.innerWidth}function l(t){var e=parseInt(t),i=~~(e/3600),n=~~(e%3600/60),o=e%60,r="";return i>0&&(r+=""+i+":"+(n<10?"0":"")),r+=""+n+":"+(o<10?"0":""),r+=""+o}var a={showControls:!0,showMuteButton:!0,showFullscreenButton:!0,showTime:!0,showPlayButton:!0,showSeekBar:!0,playWithSpace:!1,playWithMouse:!0,hideMouseOnHover:!1,playOnSeek:!0},c="ontouchstart"in document.documentElement,d='<svg version="1.1" xmlns="http://www.w3.org/2000/svg" width="13px" height="13px" viewBox="0 0 13 13" enable-background="new 0 0 13 13"><polyline points="7.8,12.2 0.8,12.2 0.8,5.2 "/><polyline points="5.2,0.8 12.2,0.8 12.2,7.8 "/></svg>',p='<svg version="1.1" xmlns="http://www.w3.org/2000/svg" width="16.2px" height="13px" viewBox="0 0 16.2 13" enable-background="new 0 0 16.2 13"><path d="M2.9,8.5l3.6,2.8V1.6L2.9,4.5H0v4.1h2.9V8.5z"/></svg>',h='<svg version="1.1" xmlns="http://www.w3.org/2000/svg" width="16.2px" height="13px" viewBox="0 0 16.2 13" enable-background="new 0 0 16.2 13"><path d="M14.1,13c1.3-1.8,2.1-4.1,2.1-6.5S15.4,1.8,14.1,0l-0.7,0.5c1.2,1.7,2,3.8,2,6s-0.8,4.3-2,6L14.1,13z M11.4,1.6l-0.7,0.5c0.9,1.2,1.5,2.7,1.5,4.4s-0.6,3.1-1.5,4.4l0.7,0.5c1-1.4,1.6-3,1.6-4.9S12.4,3,11.4,1.6z M9,3.2L8.3,3.8 c0.6,0.8,0.9,1.7,0.9,2.7s-0.3,2-0.9,2.7L9,9.8c0.7-0.9,1.1-2,1.1-3.2S9.7,4.2,9,3.2z M2.9,8.5l3.6,2.8V1.6L2.9,4.5H0v4.1H2.9z"/></svg>',v='<svg version="1.1" xmlns="http://www.w3.org/2000/svg" width="10.4px" height="13px" viewBox="0 0 10.4 13" enable-background="new 0 0 10.4 13"><path d="M0,13L0,13l10.4-6.5L0,0V13z"/></svg>',w='<svg version="1.1" xmlns="http://www.w3.org/2000/svg" width="10.4px" height="13px" viewBox="0 0 10.4 13" enable-background="new 0 0 10.4 13"><path d="M0,0v13h3.2V0H0z M7.2,0v13h3.2V0H7.2z"/></svg>',m='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 32 32" width="32" height="32" fill="white"><circle transform="translate(8 0)" cx="0" cy="16" r="0"> <animate attributeName="r" values="0; 4; 0; 0" dur="1.2s" repeatCount="indefinite" begin="0" keytimes="0;0.2;0.7;1" keySplines="0.2 0.2 0.4 0.8;0.2 0.6 0.4 0.8;0.2 0.6 0.4 0.8" calcMode="spline" /></circle><circle transform="translate(16 0)" cx="0" cy="16" r="0"><animate attributeName="r" values="0; 4; 0; 0" dur="1.2s" repeatCount="indefinite" begin="0.3" keytimes="0;0.2;0.7;1" keySplines="0.2 0.2 0.4 0.8;0.2 0.6 0.4 0.8;0.2 0.6 0.4 0.8" calcMode="spline" /></circle><circle transform="translate(24 0)" cx="0" cy="16" r="0"><animate attributeName="r" values="0; 4; 0; 0" dur="1.2s" repeatCount="indefinite" begin="0.6" keytimes="0;0.2;0.7;1" keySplines="0.2 0.2 0.4 0.8;0.2 0.6 0.4 0.8;0.2 0.6 0.4 0.8" calcMode="spline" /></circle></svg>',f="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAA8AAAAPCAYAAAA71pVKAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyhpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuNi1jMTM4IDc5LjE1OTgyNCwgMjAxNi8wOS8xNC0wMTowOTowMSAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENDIDIwMTcgKE1hY2ludG9zaCkiIHhtcE1NOkluc3RhbmNlSUQ9InhtcC5paWQ6QjQ2OEI3RjlBRTJBMTFFNkExMDdDNTc5QTg5OTBFMTgiIHhtcE1NOkRvY3VtZW50SUQ9InhtcC5kaWQ6QjQ2OEI3RkFBRTJBMTFFNkExMDdDNTc5QTg5OTBFMTgiPiA8eG1wTU06RGVyaXZlZEZyb20gc3RSZWY6aW5zdGFuY2VJRD0ieG1wLmlpZDpCNDY4QjdGN0FFMkExMUU2QTEwN0M1NzlBODk5MEUxOCIgc3RSZWY6ZG9jdW1lbnRJRD0ieG1wLmRpZDpCNDY4QjdGOEFFMkExMUU2QTEwN0M1NzlBODk5MEUxOCIvPiA8L3JkZjpEZXNjcmlwdGlvbj4gPC9yZGY6UkRGPiA8L3g6eG1wbWV0YT4gPD94cGFja2V0IGVuZD0iciI/PiratjEAAAAdSURBVHjaYvz//z8DuYCJgQIwqnlU86hmLAAgwADiEwMb/6DWRQAAAABJRU5ErkJggg==",g=function(i,l){function d(){var t=b.querySelectorAll(".button"),e=b.querySelector("input"),i=b.querySelector(".seek");i&&void 0!==i.setAttribute&&i.removeAttribute("disabled","true"),e&&void 0!==e.removeAttribute&&e.removeAttribute("disabled");for(var n in t)t[n].removeAttribute&&t[n].removeAttribute("disabled");B=!0}function p(){var t=b.querySelectorAll(".button"),e=b.querySelector("input"),i=b.querySelector(".seek");i&&void 0!==i.setAttribute&&i.setAttribute("disabled","true"),e&&void 0!==e.setAttribute&&e.setAttribute("disabled","true");for(var n in t)t[n].setAttribute&&t[n].setAttribute("disabled","true");B=!1}function h(t){t&&g.parentNode!==b?b.appendChild(g):t||g.parentNode!==b||b.removeChild(g)}if(i&&i.canPlayType){var v=this;this.isAudio="audio"==i.tagName.toLowerCase(),this.element=i,this.opt={},void 0===l&&(l={});for(var w in a)this.opt[w]=void 0!==l[w]?l[w]:a[w];var g=e(m);i.removeAttribute("controls");var b=t("div.controlize-container");i.parentNode.insertBefore(b,i),b.appendChild(i);var A=i,y=i.getAttribute("poster");if(y)if(this.isAudio){var M=t("img.media-image");M.src=y,b.appendChild(M),A=M}else b.setAttribute("data-poster",y),i.setAttribute("poster",f),b.style.backgroundImage="url('"+y+"')";var k=".media-controls";if((c||this.isAudio)&&(void 0===l.showFullscreenButton&&(this.opt.showFullscreenButton=!1),void 0===l.hideMouseOnHover&&(this.opt.hideMouseOnHover=!1),void 0===l.showMuteButton&&(this.opt.showMuteButton=!1),void 0===l.playWithMouse&&(this.opt.playWithMouse=y),void 0===l.playWithSpace&&(this.opt.playWithSpace=y),k+=y?"":".media-controls-always-visible"),this.isAudio?(o(g,"controlize-spinner-small"),void 0===l.showControls&&(this.opt.showControls=!0)):o(g,"controlize-spinner-large"),this.opt.showControls){this.controls=t("div"+k,null,this.opt.showControls?b:null);var B=!1;this.opt.playWithMouse&&(n(A,"click",function(){B&&v.playPause()}),c||n(A,"mouseover",function(){A.style.cursor=B?"pointer":"default"})),n(i,"canplay",function(){d(),h()}),n(i,"error",function(){o(b,"controlize-error"),o(v.controls,"media-controls-always-visible"),p()}),n(i,"loadstart",function(){p(),h(!0)}),n(i,"waiting",function(){h(!0)}),this.opt.playWithSpace&&n(document,"keydown",function(t){if(32===t.keyCode)return u(b)?(v.playPause(),t.preventDefault(),!1):void 0}),this.opt.hideMouseOnHover&&n(b,"mousemove",function(t){r(b,"controlize-container-hide-gui"),void 0!==v.mouseMove&&clearTimeout(v.mouseMove),s(t.srcElement,v.controls)||(v.mouseMove=setTimeout(function(){o(b,"controlize-container-hide-gui")},500))}),this.draw()}}};g.prototype.draw=function(){i(this.controls);var e=t("div.media-controls-wrapper",null,this.controls),n=t("div.left",null,e),o=t("div.center",null,e),r=t("div.right",null,e),s=0,u=0;this.opt.showPlayButton&&(s+=this.drawPlayButton(n,this.element)),this.opt.showTime&&(s+=this.drawTime(n,this.element)),this.opt.showSeekBar&&this.drawSeekBar(o,this.element),this.opt.showMuteButton&&(u+=this.drawMuteButton(r,this.element)),this.opt.showFullscreenButton&&(u+=this.drawFullscreenButton(r,this.element)),o.style.paddingLeft=s+"px",o.style.paddingRight=u+"px"},g.prototype.playPause=function(){this.element.paused===!0?this.element.play():this.element.pause()},g.prototype.drawSeekBar=function(e,i){var o=this,r=isNaN(i.duration)?0:parseInt(100/i.duration*i.currentTime),s=t("div.seek",null,e),u=t("div.seek-value",{width:r+"%"},s),l=t("input",{type:"range",value:r},s);n(l,"change",function(){i.paused||(i.currentTime=i.duration*(l.value/100))}),n(i,"timeupdate",function(){var t=parseInt(100/i.duration*i.currentTime);l.value=t,u.style.width=t+"%"}),n(l,c?"touchstart":"mousedown",function(){i.pause()}),n(l,c?"touchend":"mouseup",function(){o.opt.playOnSeek&&i.play()})},g.prototype.drawTime=function(e,i){function o(){var t=Math.floor(i.currentTime);s.textContent=isNaN(t)?"0:00":l(t);var e=i.duration-Math.floor(i.currentTime);u.textContent=isNaN(e)?"0:00":"-"+l(e)}var r=t("div.time",null,e),s=t("span.time-elapsed",null,r,"0:00");t("span.time-separator",null,r);var u=t("span.time-left",null,r,"0:00");return n(i,"timeupdate",function(){o()}),o(),r.clientWidth||90},g.prototype.drawFullscreenButton=function(e,i){var r=t("button.button",{type:"button"},e,d);return c||o(r,"button-hover"),n(r,"click",function(){i.requestFullscreen?i.requestFullscreen():i.mozRequestFullScreen?i.mozRequestFullScreen():i.webkitRequestFullscreen&&i.webkitRequestFullscreen()}),r.clientWidth||27},g.prototype.drawPlayButton=function(e,i){var r=this,s=t("button.button",{type:"button"},e,i.paused===!0?v:w);return c||o(s,"button-hover"),n(s,c?"touchstart":"click",function(){r.playPause()}),n(i,"playing",function(){s.innerHTML=i.paused===!0?v:w}),n(i,"pause",function(){s.innerHTML=v}),s.clientWidth||27},g.prototype.drawMuteButton=function(e,i){var r=t("button.button",{type:"button"},e,i.muted?p:h);return c||o(r,"button-hover"),n(r,"click",function(){i.muted=!i.muted,r.innerHTML=i.muted?p:h}),r.clientWidth||30},this.controlize=function(t,e){return new g(t,e)},this.controlize.globals=a}).call(this);