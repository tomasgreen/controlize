(function(){"use strict";function t(t,e,n,i){var o;if(-1!==t.indexOf(".")){var r=t.split(".");t=r[0],o=document.createElement(r[0]),r.shift(),o.setAttribute("class",r.join(" "))}else o=document.createElement(t);for(var s in e)o.setAttribute(s,e[s]);return n&&n.appendChild(o),i&&(o.innerHTML=i),o}function e(t){var e=document.createElement("div");return e.innerHTML=t,e.firstChild}function n(t){if(t)for(;t.firstChild;)t.removeChild(t.firstChild)}function i(t,e,n,i){void 0===i&&(i=!1);var o=e.split(" ");for(var r in o)t.addEventListener(o[r],n,i)}function o(t,e){t.classList?t.classList.add(e):t.className+=" "+e}function r(t,e){t.classList?t.classList.remove(e):t.className=t.className.replace(new RegExp("(^|\\b)"+e.split(" ").join("|")+"(\\b|$)","gi")," ")}function s(t,e){if(void 0===t||void 0===e)return!1;var n=function(t,e){return t===e||t.parentNode===e?!0:t.parentNode?n(t.parentNode,e):!1};return n(t,e)}function u(t){for(var e=t.offsetTop,n=t.offsetLeft,i=t.offsetWidth,o=t.offsetHeight;t.offsetParent;)t=t.offsetParent,e+=t.offsetTop,n+=t.offsetLeft;return e>=window.pageYOffset&&n>=window.pageXOffset&&e+o<=window.pageYOffset+window.innerHeight&&n+i<=window.pageXOffset+window.innerWidth}function a(t){var e=parseInt(t),n=~~(e/3600),i=~~(e%3600/60),o=e%60,r="";return n>0&&(r+=""+n+":"+(10>i?"0":"")),r+=""+i+":"+(10>o?"0":""),r+=""+o}var l={showControls:!0,showMuteButton:!0,showFullscreenButton:!0,showTime:!0,showPlayButton:!0,showSeekBar:!0,playWithSpace:!0,playWithMouse:!0,hideMouseOnHover:!0,playOnSeek:!0},c="ontouchstart"in document.documentElement,d='<svg version="1.1" xmlns="http://www.w3.org/2000/svg" width="13px" height="13px" viewBox="0 0 13 13" enable-background="new 0 0 13 13"><polyline points="7.8,12.2 0.8,12.2 0.8,5.2 "/><polyline points="5.2,0.8 12.2,0.8 12.2,7.8 "/></svg>',p='<svg version="1.1" xmlns="http://www.w3.org/2000/svg" width="16.2px" height="13px" viewBox="0 0 16.2 13" enable-background="new 0 0 16.2 13"><path d="M2.9,8.5l3.6,2.8V1.6L2.9,4.5H0v4.1h2.9V8.5z"/></svg>',h='<svg version="1.1" xmlns="http://www.w3.org/2000/svg" width="16.2px" height="13px" viewBox="0 0 16.2 13" enable-background="new 0 0 16.2 13"><path d="M14.1,13c1.3-1.8,2.1-4.1,2.1-6.5S15.4,1.8,14.1,0l-0.7,0.5c1.2,1.7,2,3.8,2,6s-0.8,4.3-2,6L14.1,13z M11.4,1.6l-0.7,0.5c0.9,1.2,1.5,2.7,1.5,4.4s-0.6,3.1-1.5,4.4l0.7,0.5c1-1.4,1.6-3,1.6-4.9S12.4,3,11.4,1.6z M9,3.2L8.3,3.8 c0.6,0.8,0.9,1.7,0.9,2.7s-0.3,2-0.9,2.7L9,9.8c0.7-0.9,1.1-2,1.1-3.2S9.7,4.2,9,3.2z M2.9,8.5l3.6,2.8V1.6L2.9,4.5H0v4.1H2.9z"/></svg>',v='<svg version="1.1" xmlns="http://www.w3.org/2000/svg" width="10.4px" height="13px" viewBox="0 0 10.4 13" enable-background="new 0 0 10.4 13"><path d="M0,13L0,13l10.4-6.5L0,0V13z"/></svg>',f='<svg version="1.1" xmlns="http://www.w3.org/2000/svg" width="10.4px" height="13px" viewBox="0 0 10.4 13" enable-background="new 0 0 10.4 13"><path d="M0,0v13h3.2V0H0z M7.2,0v13h3.2V0H7.2z"/></svg>',w='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 32 32" width="32" height="32" fill="white"><circle transform="translate(8 0)" cx="0" cy="16" r="0"> <animate attributeName="r" values="0; 4; 0; 0" dur="1.2s" repeatCount="indefinite" begin="0" keytimes="0;0.2;0.7;1" keySplines="0.2 0.2 0.4 0.8;0.2 0.6 0.4 0.8;0.2 0.6 0.4 0.8" calcMode="spline" /></circle><circle transform="translate(16 0)" cx="0" cy="16" r="0"><animate attributeName="r" values="0; 4; 0; 0" dur="1.2s" repeatCount="indefinite" begin="0.3" keytimes="0;0.2;0.7;1" keySplines="0.2 0.2 0.4 0.8;0.2 0.6 0.4 0.8;0.2 0.6 0.4 0.8" calcMode="spline" /></circle><circle transform="translate(24 0)" cx="0" cy="16" r="0"><animate attributeName="r" values="0; 4; 0; 0" dur="1.2s" repeatCount="indefinite" begin="0.6" keytimes="0;0.2;0.7;1" keySplines="0.2 0.2 0.4 0.8;0.2 0.6 0.4 0.8;0.2 0.6 0.4 0.8" calcMode="spline" /></circle></svg>',m=function(n,a){function d(){var t=y.querySelectorAll(".button"),e=y.querySelector("input"),n=y.querySelector(".seek");n&&void 0!==n.setAttribute&&n.removeAttribute("disabled","true"),e&&void 0!==e.removeAttribute&&e.removeAttribute("disabled");for(var i in t)t[i].removeAttribute&&t[i].removeAttribute("disabled");b=!0}function p(){var t=y.querySelectorAll(".button"),e=y.querySelector("input"),n=y.querySelector(".seek");n&&void 0!==n.setAttribute&&n.setAttribute("disabled","true"),e&&void 0!==e.setAttribute&&e.setAttribute("disabled","true");for(var i in t)t[i].setAttribute&&t[i].setAttribute("disabled","true");b=!1}function h(t){t&&m.parentNode!==y?y.appendChild(m):t||m.parentNode!==y||y.removeChild(m)}if(n&&n.canPlayType){var v=this;this.isAudio="audio"==n.tagName.toLowerCase(),this.element=n,this.opt={},void 0===a&&(a={});for(var f in l)this.opt[f]=void 0!==a[f]?a[f]:l[f];var m=e(w);n.removeAttribute("controls");var y=t("div.controlize-container");n.parentNode.insertBefore(y,n),y.appendChild(n);var g=".media-controls";if((c||this.isAudio)&&(void 0===a.showFullscreenButton&&(this.opt.showFullscreenButton=!1),void 0===a.hideMouseOnHover&&(this.opt.hideMouseOnHover=!1),void 0===a.showMuteButton&&(this.opt.showMuteButton=!1),void 0===a.playWithMouse&&(this.opt.playWithMouse=!1),void 0===a.playWithSpace&&(this.opt.playWithSpace=!1),g+=".media-controls-always-visible"),this.isAudio?(o(m,"controlize-spinner-small"),void 0===a.showControls&&(this.opt.showControls=!0)):o(m,"controlize-spinner-large"),this.opt.showControls){this.controls=t("div"+g,null,this.opt.showControls?y:null);var b=!1;this.opt.playWithMouse&&(i(n,"click",function(){b&&v.playPause()}),c||i(n,"mouseover",function(){n.style.cursor=b?"pointer":"default"})),i(n,"canplay",function(){d(),h()}),i(n,"error",function(){o(y,"controlize-error"),o(v.controls,"media-controls-always-visible"),p()}),i(n,"loadstart",function(){p(),h(!0)}),i(n,"waiting",function(){h(!0)}),this.opt.playWithSpace&&i(document,"keydown",function(t){return 32===t.keyCode&&u(y)?(v.playPause(),t.preventDefault(),!1):void 0}),this.opt.hideMouseOnHover&&i(y,"mousemove",function(t){r(y,"controlize-container-hide-gui"),void 0!==v.mouseMove&&clearTimeout(v.mouseMove),s(t.srcElement,v.controls)||(v.mouseMove=setTimeout(function(){o(y,"controlize-container-hide-gui")},500))}),this.draw()}}};m.prototype.draw=function(){n(this.controls);var e=t("div.media-controls-wrapper",null,this.controls),i=t("div.left",null,e),o=t("div.center",null,e),r=t("div.right",null,e),s=0,u=0;this.opt.showPlayButton&&(s+=this.drawPlayButton(i,this.element)),this.opt.showTime&&(s+=this.drawTime(i,this.element)),this.opt.showSeekBar&&this.drawSeekBar(o,this.element),this.opt.showMuteButton&&(u+=this.drawMuteButton(r,this.element)),this.opt.showFullscreenButton&&(u+=this.drawFullscreenButton(r,this.element)),o.style.paddingLeft=s+"px",o.style.paddingRight=u+"px"},m.prototype.playPause=function(){this.element.paused===!0?this.element.play():this.element.pause()},m.prototype.drawSeekBar=function(e,n){var o=this,r=isNaN(n.duration)?0:parseInt(100/n.duration*n.currentTime),s=t("div.seek",null,e),u=t("div.seek-value",{width:r+"%"},s),a=t("input",{type:"range",value:r},s);i(a,"change",function(){n.currentTime=n.duration*(a.value/100)}),i(n,"timeupdate",function(){var t=parseInt(100/n.duration*n.currentTime);a.value=t,u.style.width=t+"%"}),i(a,c?"touchstart":"mousedown",function(){n.pause()}),i(a,c?"touchend":"mouseup",function(){o.opt.playOnSeek&&n.play()})},m.prototype.drawTime=function(e,n){function o(){var t=Math.floor(n.currentTime);s.textContent=isNaN(t)?"0:00":a(t);var e=n.duration-Math.floor(n.currentTime);u.textContent=isNaN(e)?"0:00":"-"+a(e)}var r=t("div.time",null,e),s=t("span.time-elapsed",null,r,"0:00");t("span.time-separator",null,r);var u=t("span.time-left",null,r,"0:00");return i(n,"timeupdate",function(){o()}),o(),r.clientWidth||90},m.prototype.drawFullscreenButton=function(e,n){var r=t("button.button",{type:"button"},e,d);return c||o(r,"button-hover"),i(r,"click",function(){n.requestFullscreen?n.requestFullscreen():n.mozRequestFullScreen?n.mozRequestFullScreen():n.webkitRequestFullscreen&&n.webkitRequestFullscreen()}),r.clientWidth||27},m.prototype.drawPlayButton=function(e,n){var r=this,s=t("button.button",{type:"button"},e,n.paused===!0?v:f);return c||o(s,"button-hover"),i(s,c?"touchstart":"click",function(){r.playPause()}),i(n,"playing",function(){s.innerHTML=n.paused===!0?v:f}),i(n,"pause",function(){s.innerHTML=v}),s.clientWidth||27},m.prototype.drawMuteButton=function(e,n){var r=t("button.button",{type:"button"},e,n.muted?p:h);return c||o(r,"button-hover"),i(r,"click",function(){n.muted=!n.muted,r.innerHTML=n.muted?p:h}),r.clientWidth||30},this.controlize=function(t,e){return new m(t,e)},this.controlize.globals=l}).call(this);